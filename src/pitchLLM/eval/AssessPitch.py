class AssessPitchQuality(dspy.Signature):
    """
    Assess the generated pitch against a gold-standard pitch.
    Evaluate factual inclusion, narrative structure, and persuasive tone.
    """
    
    pitch_facts = dspy.InputField(desc="The specific facts the pitch was based on.")
    ground_truth_pitch = dspy.InputField(desc="The gold-standard, human-written pitch to compare against.")
    generated_pitch = dspy.InputField(desc="The pitch generated by the AI agent.")
    
    pitch_assessment = dspy.OutputField(
        desc="A JSON object with a final 0.0-1.0 score and detailed reasoning.",
        prefix="""
        {
          "factual_score": "A 0.0-1.0 score for whether all pitch_facts (ask, company, features) were included.",
          "narrative_score": "A 0.0-1.0 score for having a clear problem, solution, and story (like the ground truth).",
          "style_score": "A 0.0-1.0 score for matching the confident, persuasive, and engaging tone of the ground truth.",
          "reasoning": "A brief explanation for the scores.",
          "final_score": "A weighted average, (factual_score*0.4) + (narrative_score*0.4) + (style_score*0.2), as a 0.0-1.0 float."
        }
        """
    )